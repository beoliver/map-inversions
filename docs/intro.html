<!DOCTYPE html PUBLIC ""
    "">
<html><head><meta charset="UTF-8" /><title>Introduction to map-inversions</title><link rel="stylesheet" type="text/css" href="css/default.css" /><link rel="stylesheet" type="text/css" href="css/highlight.css" /><script type="text/javascript" src="js/highlight.min.js"></script><script type="text/javascript" src="js/jquery.min.js"></script><script type="text/javascript" src="js/page_effects.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html"><span class="project-title"><span class="project-name">Map-inversions</span> <span class="project-version">1.0.2</span></span></a></h1></div><div class="sidebar primary"><h3 class="no-link"><span class="inner">Project</span></h3><ul class="index-link"><li class="depth-1 "><a href="index.html"><div class="inner">Index</div></a></li></ul><h3 class="no-link"><span class="inner">Topics</span></h3><ul><li class="depth-1  current"><a href="intro.html"><div class="inner"><span>Introduction to map-inversions</span></div></a></li></ul><h3 class="no-link"><span class="inner">Namespaces</span></h3><ul><li class="depth-1 "><a href="map-inversions.core.html"><div class="inner"><span>map-inversions.core</span></div></a></li></ul></div><div class="document" id="content"><div class="doc"><div class="markdown"><h1><a href="#introduction-to-map-inversions" name="introduction-to-map-inversions"></a>Introduction to map-inversions</h1>
<h2><a href="#usage" name="usage"></a>Usage</h2>
<p>Provides four transformation functions:</p>
<pre><code class="clojure">(require '[map-inversions.core :as i])
</code></pre>
<h3><a href="#invert-one-to-one" name="invert-one-to-one"></a>invert-one-to-one</h3>
<p>A relation is <code>one-to-one</code> if each key is associated with a unique val. The result of inverting a one-to-one map is a one-to-one map.</p>
<pre><code class="clojure">user&gt; (i/invert-one-to-one {:a 1 :b 2 :c 3})
{1 :a, 2 :b, 3 :c}

user&gt; (i/invert-one-to-one {:a 1 :b 1 :c 3})
{1 :b, 3 :c}
</code></pre>
<h3><a href="#invert-many-to-one" name="invert-many-to-one"></a>invert-many-to-one</h3>
<p>A relation is <code>many-to-one</code> if there are two or more keys that are associated with the same value - If your values are not unique, then you probably want thisâ€¦</p>
<pre><code class="clojure">user&gt; (i/invert-many-to-one {:a 1 :b 2 :c 2})
{1 [:a], 2 [:b :c]}

user&gt; (i/invert-many-to-one {:a 1 :b 2 :c 3})
{1 [:a], 3 [:c] 2 [:b]}

;; note that you can pass an optional item that will serve as
;; the base coll for calls to conj during the construction
;; for performance the default is []

user&gt; (i/invert-many-to-one {:a 1 :b 2 :c 2} #{})
{1 #{:a}, 2 #{:c :b}}

user&gt; (i/invert-many-to-one {:a 1 :b 2 :c 2} nil)
{1 (:a), 2 (:c :b)}
</code></pre>
<h3><a href="#invert-one-to-many" name="invert-one-to-many"></a>invert-one-to-many</h3>
<p>A relation is <code>one-to-many</code> if each key is associated with a collection of values and all collections are disjoint - i.e the union of any two values is empty.</p>
<pre><code class="clojure">user&gt; (i/invert-one-to-many {:a [1 2] :b #{3 4 5} :c (list 6)})
{1 :a, 2 :a, 4 :b, 3 :b, 5 :b, 6 :c}
</code></pre>
<h3><a href="#invert-many-to-many" name="invert-many-to-many"></a>invert-many-to-many</h3>
<p>If your values are collections and they contain duplicates, then you just want to use this</p>
<pre><code class="clojure">user&gt; (i/invert-many-to-many {:a [1 2] :b #{3 2 5} :c (list 1 6)})
{1 [:a :c], 6 [:c], 3 [:b], 2 [:a :b], 5 [:b]}

;; again a constructor can be passed
user&gt; (i/invert-many-to-many {:a [1 2] :b #{3 2 5} :c (list 1 6)} nil)
{1 (:c :a), 2 (:b :a), 3 (:b), 5 (:b), 6 (:c)}

user&gt; (i/invert-many-to-many {:a [1 2] :b #{3 2 5} :c (list 1 6)} [:ok])
{1 [:ok :a :c], 2 [:ok :a :b], 3 [:ok :b], 5 [:ok :b], 6 [:ok :c]}
</code></pre></div></div></div></body></html>